<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">
  <link rel="alternate" href="/atom.xml" title="凉生" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="1. 前言数学期望当前在OI中是一个类似于数论方面门槛的知识，在竞赛中有考察。本文将详细的讲解此内容，但也不是只纠缠于简单的概念，而会解决一些题目.">
<meta name="keywords" content="In the story of your life, don’t let anybody else hold the pen. 不要让他人执笔，来书写你的生命故事">
<meta property="og:type" content="article">
<meta property="og:title" content="期望(例题+讲解)">
<meta property="og:url" content="http://yoursite.com/2019/10/08/期望-例题-讲解/index.html">
<meta property="og:site_name" content="凉生">
<meta property="og:description" content="1. 前言数学期望当前在OI中是一个类似于数论方面门槛的知识，在竞赛中有考察。本文将详细的讲解此内容，但也不是只纠缠于简单的概念，而会解决一些题目.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://cdn.luogu.com.cn/upload/image_hosting/klmsqv5k.png">
<meta property="og:image" content="https://cdn.luogu.com.cn/upload/image_hosting/xubh1s02.png">
<meta property="og:updated_time" content="2019-10-08T11:44:55.110Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="期望(例题+讲解)">
<meta name="twitter:description" content="1. 前言数学期望当前在OI中是一个类似于数论方面门槛的知识，在竞赛中有考察。本文将详细的讲解此内容，但也不是只纠缠于简单的概念，而会解决一些题目.">
<meta name="twitter:image" content="https://cdn.luogu.com.cn/upload/image_hosting/klmsqv5k.png">
  <link rel="canonical" href="http://yoursite.com/2019/10/08/期望-例题-讲解/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>期望(例题+讲解) | 凉生</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">凉生</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">4</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/ning2510" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/08/期望-例题-讲解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="凉生">
      <meta itemprop="description" content="Just do it.">
      <meta itemprop="image" content="/images/123.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="凉生">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">期望(例题+讲解)

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-10-08 19:43:02 / Modified: 19:44:55" itemprop="dateCreated datePublished" datetime="2019-10-08T19:43:02+08:00">2019-10-08</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h3><p><strong>数学期望当前在OI中是一个类似于数论方面门槛的知识，在竞赛中有考察。本文将详细的讲解此内容，但也不是只纠缠于简单的概念，而会解决一些题目.</strong></p><a id="more"></a>
<h3 id="2-什么是期望"><a href="#2-什么是期望" class="headerlink" title="2. 什么是期望"></a>2. 什么是期望</h3><p><strong>日常生活中，我们每做一件事，都有对它的期望，这里的期望不仅仅只结果的胜负之类，也可以与状态有关。但在OI中，一般指的就是达到结果的期望，最朴素的计算是 <u>每次可能结果的概率乘以其结果的总和</u></strong></p>
<p><strong>这是最基本的数学特征。</strong></p>
<p><strong>广义下的定义：一次随机抽样中所期望的某随机变量的取值</strong></p>
<p><strong>数学定义：</strong></p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/klmsqv5k.png" alt></p>
<h3 id="3-期望的小性质"><a href="#3-期望的小性质" class="headerlink" title="3. 期望的小性质"></a>3. 期望的小性质</h3><p><strong>设 X 是随机变量，C是常数，则 E(CX) = C * E(X)</strong></p>
<p><strong>简单证明一下：</strong></p>
<p><strong>设 x 的多个随机变量为</strong><br>$$<br>C_{a_1},C_{a_2},C_{a_3}…C_{a_n}<br>$$<br><strong>对应的出现概率为</strong><br>$$<br>p_1,p_2,p_3…p_n<br>$$<br><strong>那么对应的求期望的式子</strong><br>$$<br>E(CX)=C\sum_{i=1}^{n}(a_i<em>p_i)<br>$$<br>*</em>由于**<br>$$<br>E(X) = \sum_{i=1}^{n}(a_i<em>p_i)<br>$$<br>*</em>所以**<br>$$<br>E(CX) = C * E(X)<br>$$<br><strong>下面的可以自行思考，都不难</strong></p>
<ul>
<li><strong>设X, Y是任意两个随机变量,则有 E(X+Y) = E(X) + E(Y)</strong></li>
<li><strong>设X, Y是相互独立的随机变量,则有 E(XY) = E(X) * E(Y)</strong></li>
<li><strong>设 c 为常数,则E(C) = C</strong></li>
</ul>
<h3 id="4-期望与均值"><a href="#4-期望与均值" class="headerlink" title="4. 期望与均值"></a>4. 期望与均值</h3><p><strong>期望与均值是两个十分相近的概念，但又可以说是截然不同。</strong></p>
<ul>
<li><strong>均值往往是在实验中简单的对数据进行平均。</strong></li>
<li><strong>而期望就好像在上帝视角的人。</strong></li>
</ul>
<p><strong>举个骰子的例子:</strong></p>
<p><strong>我们的均值怎么算呢 ?</strong></p>
<p><strong>显然要掷上一定多的次数来求平均数</strong></p>
<p><strong>比如, 掷了 6 次, 分别为 1, 5, 5, 6, 3, 3，那么均值为</strong><br>$$<br>\frac{1+5+5+6+3+3}{6}=3.833333…<br>$$<br><strong>可是期望呢 ?</strong> </p>
<p><strong>我们不用掷骰子就能计算出来:</strong></p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/xubh1s02.png" alt></p>
<p><strong>可以看出，两个值是有明显差别的，而且还时刻不同。</strong></p>
<p><strong>但是为什么容易弄混呢？</strong></p>
<p><strong>因为我太弱了在将多个均值求均值后，两者就无限接近了。</strong></p>
<h3 id="5-引入"><a href="#5-引入" class="headerlink" title="5. 引入"></a>5. 引入</h3><h4 id="1-问题1"><a href="#1-问题1" class="headerlink" title="1. 问题1"></a><strong>1. 问题1</strong></h4><p><strong>甲乙两个正常人赌博，丙作为裁判监督，五局三胜，赢家可以获得100元的奖励。当比赛进行到第四局的时候，甲胜了两局，乙胜了一局，但这时赌场遇到了警察的查封，丙见势不妙，立马逃走了，甲乙两人被迫中止了比赛，那么，如何分配这100元？（每局都能分出胜负）</strong></p>
<p><strong>方案1:</strong></p>
<p><strong>每人50元</strong></p>
<p><strong>这显然是和平解决问题的方式，此时乙会赞成，但是甲一定有意见，显然，自己已经拿下赛点，不可能心甘情愿的平均分钱。</strong></p>
<p><strong>方案2:</strong></p>
<p><strong>按照获胜的概率分</strong></p>
<p><strong>假设比赛继续进行，那么下一轮：</strong></p>
<p><strong>50%:   甲赢，拿下100元</strong></p>
<p><strong>50%：乙赢，继续比赛</strong></p>
<p><strong>但是，如果问题就进行到这里，也就没有接下来的期望了</strong></p>
<p><strong>再次观察。</strong></p>
<p><strong>假设甲最终输了，那么他是在什么概率下输的呢？</strong><br>$$<br>\frac{1}{2}<em>\frac{1}{2}=\frac{1}{4}<br>$$<br>*</em>他实际上只有四分之一的概率输。**</p>
<p><strong>显而易见，因为每局都能分出胜负，所以他有四分之三的概率赢掉。</strong></p>
<p><strong>那么情况就简单了，我们根据他们的胜率来分钱。</strong><br>$$<br>甲分:100*\frac{3}{4}=75元<br>$$</p>
<p>$$<br>乙分:100*\frac{1}{4}=25元<br>$$</p>
<p><strong>此游戏完结</strong></p>
<h4 id="2-问题2"><a href="#2-问题2" class="headerlink" title="2. 问题2"></a><strong>2. 问题2</strong></h4><p><strong>一位公司招募员工，几乎没有什么面试，甲乙两个年轻人就意外的获得了一份工作，这时，面试官却说要给他们发入司奖金，每人需要从各自的三个红包中选择一个。</strong></p>
<p><strong>此时，他们已知红包中有一个1000元的，两个500元的。</strong></p>
<p><strong>两位年轻人各自抽取了一个。</strong></p>
<p><strong>他们刚要打开红包，面试官却制止了他们，随机打开每人剩下红包中的一个，相同的，里面都装着500元钱。</strong></p>
<p><strong>于是面试官向他们询问：如果同意你们用手上的红包换取未打开的红包，你会换吗？</strong></p>
<p><strong>乍一看，这是一个无厘头的问题，可能有些意气风发的人便想到坚持自我等诸多大道理，或者暗自猜测面试官在红包上做了什么标记。</strong></p>
<p><strong>但也有些人想把握机会。</strong></p>
<p><strong>凑巧，甲坚持了原来的选择，乙却尝试了机会。</strong></p>
<p><strong>表面上看，这是一个完全机会均等，拼手气的选择。</strong></p>
<p><strong>但真的是这样吗？</strong></p>
<p><strong>稍加理性分析，我们可以得到一个初步的结论，帮助我们做出选择：</strong></p>
<p><strong>如果员工刚开始恰巧选择了1000元，他不交换会得到1000元，而显然有更大概率他刚开始选到了500元，那么他相应的就只能得到500元了。</strong></p>
<p><strong>由此，选择交换会获得更大的收益。</strong></p>
<p><strong>当然，我们可以不仅仅停留在定向判断。</strong></p>
<p><strong>下面定量计算一下：</strong></p>
<p><strong>设为A，B，C三个红包</strong><br>$$<br>当员工选择了A红包后,就将三个红包分为两组,第一组为A红包,第二组为B、C红包<br>$$</p>
<p>$$<br>很明显1000元在第一组的概率为\frac{1}{3},在第二组的概率为\frac{2}{3},而面试官打开了B红包,<br>$$</p>
<p>$$<br>发现B为500元红包,这里其实是帮助员工在第二组里筛选掉了一个错误答案,<br>$$</p>
<p>$$<br>所以1000元在C红包的概率其实为\frac{2}{3}<br>$$</p>
<p><strong>所以就要换喽</strong></p>
<p><strong>但是，当甲走到门口时，面试官灵机一动，告诉他可以再回答一个问题。</strong></p>
<p><strong>于是甲满怀激动地走了过来。</strong></p>
<p><strong>面试官把向两人踢出提出了下一个问题：</strong></p>
<p><strong>如果给你手上的红包，让你换已经打开的呢？（打开的那个是500元）</strong></p>
<p><strong>显然无论如何都是不换的于是两人完美的成为了同事</strong></p>
<p><strong>面试官因招到了人完美的收到了4000元</strong></p>
<blockquote>
<p><strong>这其实是一个著名的三门问题，也称为蒙提霍尔问题、蒙特霍问题或蒙提霍尔悖论，这个问题因在数学逻辑推理上合理，但违背直觉而闻名于世</strong></p>
</blockquote>
<h3 id="6-期望的应用"><a href="#6-期望的应用" class="headerlink" title="6. 期望的应用"></a>6. 期望的应用</h3><h4 id="彩票问题"><a href="#彩票问题" class="headerlink" title="彩票问题"></a><strong>彩票问题</strong></h4><blockquote>
<p><strong>在买彩票中，大多数人相信基本上是没法中奖的，但还是有少数人幻想，于是就再这里简要分析一个彩票问题的期望.</strong></p>
</blockquote>
<p><strong>设一张彩票为2元，每售1000000 10000001000000张开奖，假设中奖号码为342356 342356342356，则每张彩票有一个对应的六位数号码，奖次如下：（中奖不叠加）</strong></p>
<ul>
<li><p><strong>末位相等,安慰奖：奖励4元，中奖概率0.1</strong></p>
</li>
<li><p><strong>后两位相等,幸运奖：奖励20元，中奖概率0.01</strong></p>
</li>
<li><p><strong>后三位相等,手气奖：奖励200元，中奖概率0.001</strong></p>
</li>
<li><p><strong>后四位相等,一等奖：奖励2000元，中奖概率0.0001</strong></p>
</li>
<li><p><strong>后五位相等,特等奖：奖励20000元，中奖概率0.00001</strong></p>
</li>
</ul>
<p><strong>某大佬：咦我六位都相等，快给我200000元！！！</strong></p>
<p><strong>彩票公司:你没看你这一项没有吗？你只是特等奖（我是不会告诉你再给钱就亏了</strong></p>
<p><strong>那到底为什么亏了呢</strong></p>
<p><strong>我们来用简单的概率知识来计算一下，对于每一位购买彩票的用户，公司可能支出为：</strong><br>$$<br>0.1<em>4+0.01</em>20+0.001<em>200+0.0001</em>2000+0.00001<em>20000=1.2<br>$$<br>*</em>也就是说，公司期望对每个人赚0.8元。**</p>
<p><strong>每1000000张，就是800000元！</strong></p>
<p><strong>回到刚才大佬的疑问，显然，如果按照开奖规律继续的话，公司会少赚200000元！！</strong></p>
<p><strong>这显然是一笔不小的损失</strong></p>
<p><strong>彩票公司：我这怎么给员工发工资？！</strong></p>
<p><strong>由此可见，彩票公司售卖彩票会让买家有惊现不同的体验（奖次不同），但即使是随机生成彩票号码，卖得多了所支出的钱一定在期望值附近，而能保证稳定的收入，而且彩票单价低，还有可能中那么多奖，买的人多，这样彩票市场才得以持续下去。</strong></p>
<h3 id="7-例题时间"><a href="#7-例题时间" class="headerlink" title="7. 例题时间"></a>7. 例题时间</h3><h4 id="1-洛谷-P1654-高次期望-递推"><a href="#1-洛谷-P1654-高次期望-递推" class="headerlink" title="1. 洛谷 P1654 (高次期望 + 递推)"></a>1. 洛谷 P1654 (高次期望 + 递推)</h4><p><strong><a href="https://www.luogu.org/problem/P1654" target="_blank" rel="noopener">传送门</a></strong></p>
<p><strong>首先给出期望的关系:</strong><br>$$<br>E((x+1)^3) = E(x^3) + 3E(x^2) + 3E(x) + 1<br>$$</p>
<p>$$<br>E((x + 1)^2) = E(x^2) + 2E(x) + 1<br>$$</p>
<p>$$<br>E(x+1) = E(x) + 1<br>$$</p>
<p><strong>这里我们要知道:</strong><br>$$<br>E(x^2) - E((x-1)^2) = 2E(x-1) + 1<br>$$<br><strong>故对于二次来说:</strong><br>$$<br>由 E((x-1)^2)到E(x^2)只需加2E(x-1)+1<br>$$</p>
<p>$$<br>在这里我们称:由 E((x-1)^2)到E(x^2)所做的贡献是2E(x-1)+1<br>$$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">期望是线性的</span><br><span class="line"></span><br><span class="line">平方的期望和立方的期望不是线性的</span><br></pre></td></tr></table></figure>

<p><strong>然后我们定义:</strong> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x1[i]:表示算到第i位前面所有极长的连续为<span class="number">1</span>的子串长度的之和的期望</span><br><span class="line"></span><br><span class="line">x2[i]:表示算到第i位前面所有极长的连续为<span class="number">1</span>的子串长度的平方之和的期望</span><br><span class="line"></span><br><span class="line">x3[i]:表示算到第i位前面所有极长的连续为<span class="number">1</span>的子串长度的立方之和的期望</span><br><span class="line"></span><br><span class="line">p[i]:表示第i个操作的成功率</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>对于 <u>一次</u> 来说</strong></li>
</ul>
<p>$$<br>x_1[i] = (x_1[i - 1] + 1) * p[i]<br>$$</p>
<p><strong>这里注意:</strong><br>$$<br>+1: 第i位为1时对期望所做的贡献(加1)<br>$$</p>
<p>$$<br>p[i]:有p[i]的概率第i位为1<br>$$</p>
<p><strong>故乘p[i]</strong></p>
<ul>
<li><strong>对于 <u>二次</u> 来说</strong></li>
</ul>
<p>$$<br>x_2[i] = (x_2[i - 1] + 2x_1[i - 1] + 1) * p[i]<br>$$</p>
<p><strong>注意:</strong><br>$$<br>2x_1[i-1]+1:第i位为1时对期望所做的贡献<br>$$</p>
<p>$$<br>p[i]:有p[i]的概率第i位为1<br>$$</p>
<ul>
<li><strong>对于 <u>三次</u> 来说</strong></li>
</ul>
<p>$$<br>x_3[i] = (x_3[i - 1] + 3x_2[i - 1] + 3x_1[i - 1] + 1) * p[i]<br>$$</p>
<p><strong>注意:</strong><br>$$<br>3x_2[i - 1] + 3x_1[i - 1] + 1:第i位为1时对期望所做的贡献<br>$$</p>
<p>$$<br>p[i]:有p[i]的概率第i位为1<br>$$</p>
<p><strong>到这里我们分析完毕,但前三个式子我们都只考虑 <u>第i位</u>，这样做是为了递推下面的式子，但是答案让我们求出最终的期望分数，也就是 <u>前n位</u> 所以我们还需做一点变形 :</strong><br>$$<br>x_3[i] = (x_3[i - 1] + 3x_2[i - 1] + 3x_1[i - 1] + 1) * p[i] + x_3[i - 1] * (1 - p[i])<br>$$</p>
<p>$$<br>=x_3[i - 1] + (3x_2[i - 1] + 3x_1[i - 1] + 1) * p[i]<br>$$</p>
<p><strong>注意:</strong><br>$$<br>1-p[i]:第i位为0的概率<br>$$</p>
<p>$$<br>前i位的期望分数=第i位为1时的期望分数+第i位为0时的期望分数 (递推关系)<br>$$</p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现:"></a>代码实现:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">double</span> p[<span class="number">100005</span>], x1[<span class="number">100005</span>], x2[<span class="number">100005</span>], x3[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; p[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i  = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        x1[i] = (x1[i - <span class="number">1</span>] + <span class="number">1</span>) * p[i];</span><br><span class="line">        x2[i] = (x2[i - <span class="number">1</span>] + <span class="number">2</span> * x1[i - <span class="number">1</span>] + <span class="number">1</span>) * p[i];</span><br><span class="line">        x3[i] = x3[i - <span class="number">1</span>] + (<span class="number">3</span> * x2[i - <span class="number">1</span>] + <span class="number">3</span> * x1[i - <span class="number">1</span>] + <span class="number">1</span>) * p[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.1lf\n"</span>, x3[n]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-洛谷-UVA10288-低次期望-递推"><a href="#2-洛谷-UVA10288-低次期望-递推" class="headerlink" title="2. 洛谷 UVA10288 (低次期望 + 递推)"></a>2. 洛谷 UVA10288 (低次期望 + 递推)</h4><p><strong><a href="https://www.luogu.org/problem/UVA10288" target="_blank" rel="noopener">传送门</a></strong><br>$$<br>设Y为集齐n种奖需要买的彩票数量<br>$$</p>
<p>$$<br>设 Y_{k} 为已获得 k 种奖后，想收集到第 k+1 种奖需要买的彩票数量<br>$$</p>
<p>$$<br>可得 Y=Y_{0}+Y_{1}+Y_{2}+…+Y_{n-1}<br>$$</p>
<p><strong>由期望的线性：</strong><br>$$<br>E(Y)=E(Y_{0}+Y_{1}+Y_{2}+…+Y_{n-1})=E(Y_{0})+E(Y_{1})+E(Y_{2})…+E(Y_{n-1})<br>$$</p>
<p>$$<br>因为获得k种奖后，再想获得第k+1种奖的概率为 \frac{n-k}{n}<br>$$</p>
<p>$$<br>设对立面不能获得第k+1种奖的概率为 p=\frac{k}{n}<br>$$</p>
<p><strong>能否获得是互相对立的（条件概率），所以要获得第k+1奖所需买的彩票数可能为 1~m（m为无穷大，可能运气差一直开不到）</strong><br>$$<br>得 收集到第k+1张彩票需要买 t 张彩票的概率为 P_{t}=p^{t-1}*(1-p)<br>$$</p>
<p>$$<br>所以  Y_{k} 的期望为：E(Y_{k})=\sum_{t=1}^{n}t*P_{t}=(1-p)(1+2p+3p^{2}+…+mp^{m-1})<br>$$</p>
<p>$$<br>所以p<em>E(Y_{k})=\sum_{t=1}^{n}t</em>P_{t}=(1-p)(p+2p^{2}+3p^3+…+mp^{m})<br>$$</p>
<p>$$<br>两式错位相减得:E(Y_k) =1+p+p^2+p^3+…+p^{m-1}-mp^m<br>$$</p>
<p>$$<br>根据等比数列求和得: E(Y_{k})=\frac{1-p^{m}}{1-p}-mp^{m}<br>$$</p>
<p>$$<br>=\frac{1}{1-p}-(\frac{p^{m}}{1-p}+mp^{m})<br>$$</p>
<p>$$<br>=\frac{1}{1-p}-(\frac{1}{1-p}+m)*p^m<br>$$</p>
<p>$$<br>因为m无穷大,故当m为\frac{-1}{1-p}时,E(Y_k)最大<br>$$</p>
<p>$$<br>此时E(Y_k) = \frac{1}{1-p} = \frac{n}{n-k}<br>$$</p>
<p>$$<br>故E(Y) =\sum_{k=0}^{n-1} \frac{n}{n-k} = n\sum_{k=1}^{n} \frac{1}{k}<br>$$</p>
<h4 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现:"></a>代码实现:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line">ll A[<span class="number">35</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, B[<span class="number">35</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>&#125;;   </span><br><span class="line"><span class="comment">// A[i]: 前i项和的分子  B[i]:前i项和的分母</span></span><br><span class="line"><span class="comment">// B[1] 需要预处理，否则无法计算</span></span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Red</span><span class="params">(ll &amp;m, ll &amp;n)</span> </span>&#123;</span><br><span class="line">    ll d = gcd(m, n);</span><br><span class="line">    m /= d;</span><br><span class="line">    n /= d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">2</span>, a, b; i &lt;= <span class="number">33</span>; ++i) &#123;</span><br><span class="line">        a = A[i - <span class="number">1</span>], b  = B[i - <span class="number">1</span>];</span><br><span class="line">        A[i] = (ll)a * i + b;</span><br><span class="line">        B[i] = (ll)b * i;</span><br><span class="line">        Red(A[i], B[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">Len</span><span class="params">(ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; N) &#123;</span><br><span class="line">        ll a = A[N] * N, b = B[N];</span><br><span class="line">        Red(a, b); <span class="comment">// 由于乘了一个 N，需要再次约分</span></span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 如果能整除，直接特判，不需输出分数</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll k = a / b; <span class="comment">// k 为带分数的整数部分</span></span><br><span class="line">        a -= k * b;</span><br><span class="line">        <span class="keyword">int</span> lb = Len(b), lk = Len(k);</span><br><span class="line">        <span class="comment">// 以下分别输出带分数的三行</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lk + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; k &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lb; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">'-'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lk + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-洛谷-P4550-高次期望-递推"><a href="#3-洛谷-P4550-高次期望-递推" class="headerlink" title="3. 洛谷 P4550 (高次期望 + 递推)"></a>3. 洛谷 P4550 (高次期望 + 递推)</h4><p><strong><a href="https://www.luogu.org/problem/P4550" target="_blank" rel="noopener">传送门</a></strong></p>
<p><strong>这道题是第二题的升级版，要用到高次的期望，但输出不用那么麻烦了</strong></p>
<p><strong>首先第一步很好转化吧，设用了x步，则花费为</strong><br>$$<br>ans =\sum_{i=1}^{x}i =\frac {(x^2+x)}{2}<br>$$<br><strong>现在就转换成要求上式的期望</strong></p>
<p><strong>有了前面那题的基础现在考虑起来就简单了</strong></p>
<p><strong>维护一个线性期望 x1，平方期望 x2（都是数组）</strong></p>
<p><strong>好吧再清楚地表达一下：</strong><br>$$<br>x_1[i]:表示找完i个数之后还需要的次数的期望<br>$$</p>
<p>$$<br>x_2[i]:表示找完i个数之后还需要的次数平方的期望<br>$$</p>
<p>$$<br>不难想到最后的答案是\frac{x_1[0]+x_2[0]}{2}<br>$$</p>
<p><strong>下面就开始考虑状态转移（dp？）</strong></p>
<p><strong>1. 先来考虑 x1[i]</strong><br>$$<br>x_1[i] = ?<br>$$</p>
<p>$$<br>边界x_1[n]=0我们都知道,而我们要求的是x_1[0]<br>$$</p>
<p>$$<br>显然,需要倒推<br>$$</p>
<p><strong>情况1: 买到买过的</strong><br>$$<br>买过的是i个,概率为\frac{i}{n},花费就相当于记在买到i时候的账上了(从i账上查),<br>$$</p>
<p>$$<br>得到花费为x_1[i]+1(贡献为1,这里的1为步数)<br>$$</p>
<p>$$<br>故可得到式子:\frac{i}{n}(x_1[i]+1)<br>$$</p>
<p><strong>情况2:买到没买过的</strong><br>$$<br>没买过的是n-i个,概率为\frac{n-i}{n},花费就相当于记在买到i+1时候的<br>$$</p>
<p>$$<br>账上了(从i+1账上查),因为当前多买了一个,得到的花费为x_1[i+1]+1(贡献为1)<br>$$</p>
<p>$$<br>故可得到式子:\frac{n-i}{n}(x_1[i+1]+1)<br>$$</p>
<p><strong>两种情况合并,得:</strong><br>$$<br>x_1[i] = \frac{i}{n}(x_1[i]+1)+\frac{n-i}{n}x_1[i+1]+1)<br>$$<br><strong>一顿骚操作(正常化简),得:</strong><br>$$<br>x_1[i] = x_1[i+1]+\frac{n}{n-i}<br>$$<br><strong>2. 再考虑x2[i]</strong></p>
<p><strong>唉有了前面osu的铺垫这还不是轻而易举 ?</strong></p>
<p><strong>跟推 x1 的时候一个思路，新的或旧的，唯一就把平方拆开就行喽</strong><br>$$<br>边界x_2[n]=0,故可得式子:<br>$$</p>
<p>$$<br>x_2[i] = \frac{i}{n}(x_2[i] + 2x_1[i] + 1) + \frac{n-i}{n}(x_2[i+1]+2x_1[i+1]+1)<br>$$</p>
<p><strong>OK既然上面讲了写式子下面就说说化简的事吧~</strong><br>$$<br>把第一个括号拆成x_2[i]和2x_1[i]+1两部分<br>$$</p>
<p>$$<br>然后把\frac{i}{n}*x_2[i]给移到左边,合并得:<br>$$</p>
<p>$$<br>\frac{n-i}{n}x_2[i]=\frac{i}{n}(2x_1[i]+1)+\frac{n-i}{n}{x_2[i+1]+2x_1[i+1]+1}<br>$$</p>
<p>$$<br>两边同除\frac{n-i}{n},得:<br>$$</p>
<p>$$<br>x_2[i]=\frac{i}{n-i}(2x_1[i]+1)+x_2[i+1]+2x_1[i+1]+1<br>$$</p>
<p><strong>这样就会简单一些了</strong></p>
<h4 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现:"></a>代码实现:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">double</span> x1[<span class="number">10005</span>], x2[<span class="number">10005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        x1[i] = x1[i + <span class="number">1</span>] + <span class="number">1.0</span> * n / (n - i);</span><br><span class="line">        x2[i] = <span class="number">1.0</span> * i / (n - i) * (<span class="number">2</span> * x1[i] + <span class="number">1</span>) + x2[i + <span class="number">1</span>] + <span class="number">2</span> * x1[i + <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>, (x1[<span class="number">0</span>] + x2[<span class="number">0</span>]) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-参考网址"><a href="#4-参考网址" class="headerlink" title="4. 参考网址"></a>4. 参考网址</h4><p><strong><a href="https://blog.csdn.net/kkkksc03/article/details/99619790" target="_blank" rel="noopener">传送门1</a></strong></p>
<p><strong><a href="https://blog.csdn.net/C20181220_xiang_m_y/article/details/93137633" target="_blank" rel="noopener">传送门2</a></strong></p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/In-the-story-of-your-life-don’t-let-anybody-else-hold-the-pen-不要让他人执笔，来书写你的生命故事/" rel="tag"><i class="fa fa-tag"></i> In the story of your life, don’t let anybody else hold the pen. 不要让他人执笔，来书写你的生命故事</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/11/字典树/" rel="next" title="字典树 (Trie 树)">
                  <i class="fa fa-chevron-left"></i> 字典树 (Trie 树)
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-前言"><span class="nav-number">1.</span> <span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-什么是期望"><span class="nav-number">2.</span> <span class="nav-text">2. 什么是期望</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-期望的小性质"><span class="nav-number">3.</span> <span class="nav-text">3. 期望的小性质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-期望与均值"><span class="nav-number">4.</span> <span class="nav-text">4. 期望与均值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-引入"><span class="nav-number">5.</span> <span class="nav-text">5. 引入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-问题1"><span class="nav-number">5.1.</span> <span class="nav-text">1. 问题1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-问题2"><span class="nav-number">5.2.</span> <span class="nav-text">2. 问题2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-期望的应用"><span class="nav-number">6.</span> <span class="nav-text">6. 期望的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#彩票问题"><span class="nav-number">6.1.</span> <span class="nav-text">彩票问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-例题时间"><span class="nav-number">7.</span> <span class="nav-text">7. 例题时间</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-洛谷-P1654-高次期望-递推"><span class="nav-number">7.1.</span> <span class="nav-text">1. 洛谷 P1654 (高次期望 + 递推)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代码实现"><span class="nav-number">7.2.</span> <span class="nav-text">代码实现:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-洛谷-UVA10288-低次期望-递推"><span class="nav-number">7.3.</span> <span class="nav-text">2. 洛谷 UVA10288 (低次期望 + 递推)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代码实现-1"><span class="nav-number">7.4.</span> <span class="nav-text">代码实现:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-洛谷-P4550-高次期望-递推"><span class="nav-number">7.5.</span> <span class="nav-text">3. 洛谷 P4550 (高次期望 + 递推)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代码实现-2"><span class="nav-number">7.6.</span> <span class="nav-text">代码实现:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-参考网址"><span class="nav-number">7.7.</span> <span class="nav-text">4. 参考网址</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/123.png"
      alt="凉生">
  <p class="site-author-name" itemprop="name">凉生</p>
  <div class="site-description" itemprop="description">Just do it.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/ning2510" title="GitHub &rarr; https://github.com/ning2510" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://www.luogu.org/" title="Luogu &rarr; https://www.luogu.org/" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>Luogu</a>
      </span>
    
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">凉生</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

</body>
</html>
